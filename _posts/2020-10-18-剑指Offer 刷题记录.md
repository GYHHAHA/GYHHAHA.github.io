---
layout: post
title:  《剑指Offer》刷题记录
categories: 剑指Offer
tags: 
author: GYH
---

* content
{:toc}

## 面试题3 数组中重复的数字

- 题目一：找出数组中重复的数字
- 在一个长度为 n 的数组 nums 里的所有数字都在 0～n-1 的范围内。数组中某些数字是重复的，但不知道有几个数字重复了，也不知道每个数字重复了几次。请找出数组中任意一个重复的数字。
- 【思路】从头至尾扫描，当进行到下标i时，比较该数是否等于i，否则交换该数和下标为该数的元素，重复交换过程直到找到重复元素。由于每个数字最多被交换两次，就能回到正确的位置，这也是算法具备正确性的原因，恢复到相应位置后如果有重复元素必然冲突，所以总的时间复杂度为O(n)，又由于在原数组直接修改，因此空间复杂度为O(1)。

```python
class Solution:
    def findRepeatNumber(self, nums: List[int]) -> int:
        for i in range(len(nums)):
            while nums[i] != i:
                if nums[i] == nums[nums[i]]:
                    return nums[i]
                else:
                    #nums变化有坑
                    temp = nums[i]
                    nums[i] = nums[nums[i]]
                    nums[temp] = temp
```

- 题目二：不修改数组找出重复的数字（！重点！二分查找！）
- 现在数组长度为n+1，元素为从1到n，因此至少有一个重复，现在不允许修改数组的情况下要求O(1)的空间复杂度，找出一个重复数字。
- 【思路】分治策略，1至n分为两部分，1至n//2和n//至n，至少有一个部分在原数组的个数超过这个部分的长度，同理一直分割直到单个元素。

```python
def f(nums):
    left = 1
    right = len(nums) - 1
    while left != right:
        mid = (left + right) // 2
        L = range(left, mid+1)
        count = 0
        for i in nums:
            if i in L:
                count += 1
        if count > (mid - left + 1):
            right = mid
        else:
            left = mid
    return left
```